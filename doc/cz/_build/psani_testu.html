

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Psaní testů &mdash; selenium-webtests 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'0.1.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="selenium-webtests 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="3. API" href="api.html"/>
        <link rel="prev" title="1. Instalace" href="instalace.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> selenium-webtests</a>
        <form class="wy-form" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="instalace.html">1. Instalace</a><ul>
<li class="toctree-l2"><a class="reference internal" href="instalace.html#priprava-prostredi-a-instalace-selenium-hub">1.1. Příprava prostředí a instalace (Selenium HUB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="instalace.html#registrace-testovacich-prohlizecu-selenium-nodes">1.2. Registrace testovacích prohlížečů (Selenium Nodes)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">2. Psaní testů</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vysvetleni-struktury-testu-na-prikladu">2.1. Vysvětlení struktury testu na příkladu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#navigace-prohlizece">2.2. Navigace prohlížeče</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vyhledavani-elementu">2.3. Vyhledávání elementů</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vyplnovani-formulare">2.4. Vyplňování formuláře</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prace-s-proxy">2.5. Práce s proxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cekani">2.6. Čekání</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zadavani-znaku-z-klavesnice">2.7. Zadávání znaků z klávesnice</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nastaveni-pozadovanych-prohlizecu-pro-jednotlive-testy">2.8. Nastavení požadovaných prohlížečů pro jednotlivé testy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stringy-s-ceskymi-znaky">2.9. Stringy s českými znaky</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automaticka-kontrola-js-chyb">2.10. Automatická kontrola JS chyb</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">3. API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#webdriver-driver">3.1. WebDriver (driver)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-selenium.webdriver.common.action_chains">3.2. Akce (driver)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#webelement-webelement">3.3. WebElement (webelement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#proxy-proxy">3.4. Proxy (proxy)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-selenium.webdriver.common.keys">3.5. Keys (Keys)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-selenium.webdriver.common.alert">3.6. Alerts (Alert)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#metody-pro-testovani-vysledku-testu">3.7. Metody pro testování výsledku testu</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">selenium-webtests</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="index.html">Docs</a> &raquo;</li>
  <li><a href="">2. Psaní testů</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="psani-testu">
<h1>2. Psaní testů<a class="headerlink" href="#psani-testu" title="Permalink to this headline">¶</a></h1>
<p>Pokud máme SW modul nainstalovaný a zaregistrované všechny stroje s testovacími prohlížeči, můžeme začít psát samotné testy.</p>
<p>Příklad, jak takový test vypadá, je v examples/example_test staženého balíku SW. Na něm si můžeme vysvětlit základní strukturu testů.</p>
<div class="section" id="vysvetleni-struktury-testu-na-prikladu">
<h2>2.1. Vysvětlení struktury testu na příkladu<a class="headerlink" href="#vysvetleni-struktury-testu-na-prikladu" title="Permalink to this headline">¶</a></h2>
<p>V example_test jsou dva soubory:</p>
<ol class="arabic">
<li><p class="first">V <strong>settings.py</strong> je toto:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">BASE_URL</span> <span class="o">=</span> <span class="s">&quot;http://seznam.cz&quot;</span>
</pre></div>
</div>
<p>Doména webu. Pokud v testech při navigaci prohlížeče uvedeme relativní URL (např. &#8220;/kategorie/notebooky&#8221;), hodnota této proměnné se použije jako prefix. Pokud bychom pak chtěli testy spustit v jiném prostředí (provoz, produktový test...), stačí změnit tuto proměnnou.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">BROWSERS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s">&quot;browserName&quot;</span><span class="p">:</span> <span class="s">&quot;firefox&quot;</span><span class="p">,</span>
        <span class="s">&quot;version&quot;</span><span class="p">:</span> <span class="s">&quot;ANY&quot;</span><span class="p">,</span>
        <span class="s">&quot;platform&quot;</span><span class="p">:</span> <span class="s">&quot;ANY&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Pole prohlížečů, na kterých chceme testy spouštět. Každý zde uvedený prohlížeč musí být zaregistrovaný do Selenium HUBu. Jako hodnotu klíčů &#8220;version&#8221; a &#8220;platform&#8221; můžeme uvést &#8220;ANY&#8221;, pokud nám nezáleží na tom, v jaké verzi prohlížeče nebo na jakém OS se testy spustí.</p>
</li>
<li><p class="first">Soubor <strong>homepage.py</strong> představuje jednoduchý test vyhledávání z HP Seznamu. V adresáři může být libovolný počet takových souborů.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># -*- coding: utf-8 -*-</span>
</pre></div>
</div>
<p>Nastavení kódování souboru</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">seleniumwebtests.testcase</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Naimportování funkcionality společné pro všechny testy.</p>
<div class="highlight-python"><div class="highlight"><pre>class homepage(TestCase):
</pre></div>
</div>
<p>Třída testů. Musí dědit z seleniumwebtests.TestCase.
Jeden soubor může obsahovat libovolný počet takových tříd. Díky tomu se testy dají členit do logických celků.</p>
<div class="highlight-python"><div class="highlight"><pre>def test_vyhledavani(self):
</pre></div>
</div>
<p>Konkrétní test. Název metody musí začínat prefixem <strong>test*</strong>. Třída jich může obsahovat libovolný počet. Průběh testu je většinou následující:</p>
<ul class="simple">
<li>navigace prohlížeče na požadovanou URL</li>
<li>provedení akce</li>
<li>testování výsledku akce</li>
</ul>
<p>V prvních dvou krocích se využívají metody <a class="reference internal" href="api.html#webdriverapi"><em>WebDriver (driver)</em></a>, <a class="reference internal" href="api.html#webelementapi"><em>WebElement (webelement)</em></a> nebo <a class="reference internal" href="api.html#proxyapi"><em>Proxy (proxy)</em></a>. Ve třetím kroku <a class="reference internal" href="api.html#assertmethods"><em>Metody pro testování výsledku testu</em></a>.</p>
</li>
</ol>
</div>
<div class="section" id="navigace-prohlizece">
<h2>2.2. Navigace prohlížeče<a class="headerlink" href="#navigace-prohlizece" title="Permalink to this headline">¶</a></h2>
<p>Pro nasměrování prohlížeče na určitou URL slouží metoda get:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/kategorie/notebooky&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Pokud je URL zadána takto bez protokolu a domény, použije se proměnná BASE_URL ze souboru settings.py
Adresy je možné zadávat i absolutně:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;http://zbozi.cz/kategorie/notebooky&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Po přechodu na jinou stránku WebDriver čeká na JS událost &#8220;onload&#8221; než pokračuje dále v kódu testu. Díky tomu se dá spolehnout na to, že je DOM strom načtem a můžeme se stránkou dále pracovat. Jiná situace je při různých JS requestech, při kterých nedochází k reloadu stránky. Tam musíme WebDriveru explicitně říct, aby chvilku počkal. Více o tom v sekci <a class="reference internal" href="#waits"><em>Čekání</em></a>.</p>
</div>
<div class="section" id="vyhledavani-elementu">
<h2>2.3. Vyhledávání elementů<a class="headerlink" href="#vyhledavani-elementu" title="Permalink to this headline">¶</a></h2>
<p>Pro vyhledávání elementů na stránkce slouží řada metod. Dají se rozdělit do dvou kategorií:</p>
<p>Ty, které vrací vždy první nalezený výsledek:</p>
<ul class="simple">
<li>find_element_by_id</li>
<li>find_element_by_name</li>
<li>find_element_by_xpath</li>
<li>find_element_by_link_text</li>
<li>find_element_by_partial_link_text</li>
<li>find_element_by_tag_name</li>
<li>find_element_by_class_name</li>
<li>find_element_by_css_selector</li>
</ul>
<p>a metody, které vrací pole nalezených elementů:</p>
<ul class="simple">
<li>find_elements_by_name</li>
<li>find_elements_by_xpath</li>
<li>find_elements_by_link_text</li>
<li>find_elements_by_partial_link_text</li>
<li>find_elements_by_tag_name</li>
<li>find_elements_by_class_name</li>
<li>find_elements_by_css_selector</li>
</ul>
<p>Příklad:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">elm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">&quot;#page .content&quot;</span><span class="p">)</span>
<span class="n">elmArray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_tag_name</span><span class="p">(</span><span class="s">&quot;form&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="vyplnovani-formulare">
<h2>2.4. Vyplňování formuláře<a class="headerlink" href="#vyplnovani-formulare" title="Permalink to this headline">¶</a></h2>
<p>Pro jednodušší vyplňová formuláře rozšiřuje SW standardní API o šikovnou metodu <strong>fill_form</strong>. Té se jako první argument předává element formuláře a jako druhý objekt, ve kterém klíče představují hodnoty name atributů jednotlivých formulářových prvků a jejich hodnoty jsou pak hodnoty, které chceme těmto prvům nastavit. SW sám rozpozná, o jaký element se jedná a podle toho ho vyplní.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">fill_form</span><span class="p">(</span><span class="n">form</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;firstname&quot;</span><span class="p">:</span> <span class="s">u&quot;Jára&quot;</span><span class="p">,</span> <span class="s">&quot;lastname&quot;</span><span class="p">:</span> <span class="s">u&quot;Cimrman&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>Pokud chceme po vyplnění formulář rovnou i odeslat, můžeme použít metodu <strong>fill_form_and_submit</strong> se stejnými argumenty.</p>
<p>Pro vyplnění jednoho elementu, který ani nemusí být ve formuláři, slouží metoda <strong>fill_element</strong>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">fill_element</span><span class="p">(</span><span class="n">elm</span><span class="p">,</span> <span class="s">&quot;Jára Cimrman&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="prace-s-proxy">
<h2>2.5. Práce s proxy<a class="headerlink" href="#prace-s-proxy" title="Permalink to this headline">¶</a></h2>
<p>Selenium samotné neposkytuje způsob jak testovat síťové požadavky. Proto SW využívá vlastní proxy a v případě potřeby dokáže síťový provoz na stránce ukládat a  výsledek na požádání vrátit jako JSON, který je strukturovám podle HAR specifikace. V tomto JSONu pak můžeme vyhledávat.</p>
<p>Nejprve je potřeba v testu zapnout logování:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">new_har</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Potom provedeme akci, při by mělo dojít o odeslání požadavku, který nás zajímá a následeně si proxy řekneme o zachycené výsledky:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">har</span>
</pre></div>
</div>
<p>Případně můžeme ve výsledcích rovnou vyhledávat. Takto si například můžeme ověřit, že si homepage Seznamu říká o výdej reklamy na pozici &#8220;seznam.hp.tip.vikend&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">new_har</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;http://seznam.cz&quot;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">find_in_har</span><span class="p">(</span>
        <span class="s">&quot;i.imedia.cz&quot;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="s">&quot;request.queryString&quot;</span><span class="p">:</span>
            <span class="p">{</span>
                <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;zoneId&quot;</span><span class="p">,</span>
                <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;seznam.hp.tip.vikend&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Metoda <strong>find_in_har</strong> přijimá dva argumenty. První je URL nebo substring, který musí URL obsahovat. Pro každý požadavek, který stringu vyhovuje se pak provádí hledaní podle druhého parametru, ve kterém předáváme kritéria, kterým musí požadavek vyhovat. Kritéria se předávají jako objekt (dict), ve kterém klíče reprezentují položku v HARu. Použitím teček v názvu klíče lze přistupovat k datům zanořeným hlouběji v HARu. Abychom mohli v HARu vyhledávat, musíme znát jeho strukturu. Příklad, jak takový request v HARu vypadá, je v examples/har.json</p>
</div>
<div class="section" id="cekani">
<span id="waits"></span><h2>2.6. Čekání<a class="headerlink" href="#cekani" title="Permalink to this headline">¶</a></h2>
<p>Některé akce, které na stánce provedeme, mohou vyžadovat určitý čas něž se jejich výsledek na stánce nějak projeví. Typickým příkladem je třeba AJAX request. V takových případech budeme muset Selenium WebDriver říct, aby chvilku počkal, než bude moci v kódu testu pokračovat dál:</p>
<div class="highlight-python"><div class="highlight"><pre>self.driver.wait(5) // čekej 5s
</pre></div>
</div>
<p>U některých akci, u kterých bychom normálně museli nastavovat čekání, to potřeba není:</p>
<ul class="simple">
<li>sám Selenium WebDriver si dokáže poradit s případy, kdy ho pomocí metody <strong>get</strong> přesměrujeme na jinou stránku. S vykonáváním testu počká do doby, než bude stránka celá načtená.</li>
<li>pokud po takové akci chceme vyhledat nějaký element na stránce pomocí některé <strong>find_*</strong> metody, tak nic řešit nemusíme. Modul SW přidává k těmto metodám implicitní čekání, pokud napoprvé nevrátí žádný výsledek. Periodicky se pak po dobu 10s kontroluje, jestli se požadovaný element neobjeví. Pokud ne, teprve pak vyhodí chybu a test selže.</li>
</ul>
</div>
<div class="section" id="zadavani-znaku-z-klavesnice">
<h2>2.7. Zadávání znaků z klávesnice<a class="headerlink" href="#zadavani-znaku-z-klavesnice" title="Permalink to this headline">¶</a></h2>
<p>Pro odesílání stisku kláves z klávesnice slouží metoda <strong>send_keys</strong>. Pomocí ní se dá např. do inputu vložit text:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">u&quot;kotě v botě&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Znaky se odešlou do elementu, na kterém je focus.</p>
<p>Existuje také metoda <strong>send_keys_to_element</strong>, které cílový element můžeme zadat:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">send_keys_to_element</span><span class="p">(</span><span class="n">elm</span><span class="p">,</span> <span class="s">u&quot;kotě v botě&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Kromě textu se dají odesílat i speciální klávesy. Jejich seznam je v <a class="reference internal" href="api.html#keysapi"><em>Keys (Keys)</em></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="nastaveni-pozadovanych-prohlizecu-pro-jednotlive-testy">
<h2>2.8. Nastavení požadovaných prohlížečů pro jednotlivé testy<a class="headerlink" href="#nastaveni-pozadovanych-prohlizecu-pro-jednotlive-testy" title="Permalink to this headline">¶</a></h2>
<p>Normálně se každý test spustí na všech prohlížečích definovaných v souboru <strong>settings.py</strong>. Existuje ale možnost, jak pro konkrétní test nastavit vlastní prohlížeče. Stačí třídě testů nastavit class proměnnou <strong>BROWSERS</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">homepage</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="n">BROWSERS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">&quot;browserName&quot;</span><span class="p">:</span> <span class="s">&quot;internet explorer&quot;</span><span class="p">,</span>
            <span class="s">&quot;version&quot;</span><span class="p">:</span> <span class="s">&quot;8.0&quot;</span><span class="p">,</span>
            <span class="s">&quot;platform&quot;</span><span class="p">:</span> <span class="s">&quot;ANY&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">test_vyhledavani</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>To je užitečné například v případě, že chceme napsat testy specifické pro jeden prohlížeč.</p>
</div>
<div class="section" id="stringy-s-ceskymi-znaky">
<h2>2.9. Stringy s českými znaky<a class="headerlink" href="#stringy-s-ceskymi-znaky" title="Permalink to this headline">¶</a></h2>
<p>Při práci s českými znaky v testech je potřeba string, který je obsahuje, označit jako unicode. To se dělá přidáním znaku &#8220;<strong>u</strong>&#8221; před string.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">fill_form_and_submit</span><span class="p">(</span><span class="n">search_form</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;q&quot;</span><span class="p">:</span> <span class="s">u&quot;kotě v botě&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="automaticka-kontrola-js-chyb">
<h2>2.10. Automatická kontrola JS chyb<a class="headerlink" href="#automaticka-kontrola-js-chyb" title="Permalink to this headline">¶</a></h2>
<p>SW dokáže automaticky kontrolovat, jestli při provádění testů nedošlo na stránce k nějaké JS chybě. Stačí do kódu stránky přidat následující skript:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;script type=&quot;text/javascript&quot;&gt;
     window.jsErrors = [];
     window.onerror = function(errorMessage) {
         window.jsErrors.push(errorMessage);
     }
 &lt;/script&gt;
</pre></div>
</div>
<p>Pokud pole <strong>window.jsErrors</strong> obsahuje na konci testu nějakou chybu, test selže bez ohledu na to, jaký byl výsledek testu samotného.</p>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="api.html" class="btn btn-neutral float-right" title="3. API"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="instalace.html" class="btn btn-neutral" title="1. Instalace"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2014, Jiri Kuchta.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>