

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Instalace &mdash; selenium-webtests 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'0.1.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="selenium-webtests 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="2. Psaní testů" href="psani_testu.html"/>
        <link rel="prev" title="Selenium Webtests" href="index.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> selenium-webtests</a>
        <form class="wy-form" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">1. Instalace</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#priprava-prostredi-a-instalace-selenium-hub">1.1. Příprava prostředí a instalace (Selenium HUB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#registrace-testovacich-prohlizecu-selenium-nodes">1.2. Registrace testovacích prohlížečů (Selenium Nodes)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="psani_testu.html">2. Psaní testů</a><ul>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#vysvetleni-struktury-testu-na-prikladu">2.1. Vysvětlení struktury testu na příkladu</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#navigace-prohlizece">2.2. Navigace prohlížeče</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#vyhledavani-elementu">2.3. Vyhledávání elementů</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#vyplnovani-formulare">2.4. Vyplňování formuláře</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#prace-s-proxy">2.5. Práce s proxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#cekani">2.6. Čekání</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#zadavani-znaku-z-klavesnice">2.7. Zadávání znaků z klávesnice</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#nastaveni-pozadovanych-prohlizecu-pro-jednotlive-testy">2.8. Nastavení požadovaných prohlížečů pro jednotlivé testy</a></li>
<li class="toctree-l2"><a class="reference internal" href="psani_testu.html#stringy-s-ceskymi-znaky">2.9. Stringy s českými znaky</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">3. API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#webdriver-driver">3.1. WebDriver (driver)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-selenium.webdriver.common.action_chains">3.2. Akce (driver)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#webelement-webelement">3.3. WebElement (webelement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#proxy-proxy">3.4. Proxy (proxy)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-selenium.webdriver.common.keys">3.5. Keys (Keys)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-selenium.webdriver.common.alert">3.6. Alerts (Alert)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#metody-pro-testovani-vysledku-testu">3.7. Metody pro testování výsledku testu</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">selenium-webtests</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="index.html">Docs</a> &raquo;</li>
  <li><a href="">1. Instalace</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="instalace">
<h1>1. Instalace<a class="headerlink" href="#instalace" title="Permalink to this headline">¶</a></h1>
<div class="section" id="priprava-prostredi-a-instalace-selenium-hub">
<h2>1.1. Příprava prostředí a instalace (Selenium HUB)<a class="headerlink" href="#priprava-prostredi-a-instalace-selenium-hub" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Na stroji, na kterém chceme SW rozběhnout, musí být nainstalovaný Python 2.7 (vyšší verze jsem nezkoušel) a Java 7.</p>
</li>
<li><p class="first">Ze stránek <a class="reference external" href="https://code.google.com/p/selenium/downloads/list">https://code.google.com/p/selenium/downloads/list</a> stáhneme Selenium Standalone Server (selenium-server-standalone-&lt;verze&gt;.jar).</p>
</li>
<li><p class="first">Ze stránek <a class="reference external" href="http://bmp.lightbody.net/">http://bmp.lightbody.net/</a> stáhneme BrowserMob Proxy (.zip) a rozbalíme.</p>
</li>
<li><p class="first">Stáhneme nebo vyclonujeme SW balík:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/jirikuchta/selenium-webtests.git
</pre></div>
</div>
</li>
<li><p class="first">Dále je potřeba otevřít soubor config.py v balíku a upravit v něm cesty ke staženému Selenium Serveru, spuštěcímu souboru proxy a adresu stroje.</p>
</li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Na uvedené adrese musí být stroj, na kterém SW instalujeme, dostupný pro všechny vzdálené stroje, na kterých běží testovací prohlížeče. Je možné vyplnit &#8220;localhost&#8221; pro spouštění testů na lokálních prohlížečích.</p>
</div>
</div></blockquote>
<ol class="arabic" start="6">
<li><p class="first">Pak stačí vlézt do hlavního adresáře staženého balíku a tento nainstalovat.:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo python setup.py install
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pokud by si instalátor stěžoval, že mu chybí setuptools, bude potřeba <a class="reference external" href="https://pypi.python.org/pypi/setuptools#windows">balík setuptool nainstalovat</a>.</p>
</div>
</div></blockquote>
<p>Po úspěsné instalaci by měl být SW připraven. Zbývá zaregistrovat stroje s testovacími prohlížeči.</p>
</div>
<div class="section" id="registrace-testovacich-prohlizecu-selenium-nodes">
<h2>1.2. Registrace testovacích prohlížečů (Selenium Nodes)<a class="headerlink" href="#registrace-testovacich-prohlizecu-selenium-nodes" title="Permalink to this headline">¶</a></h2>
<p>Následující postup je potřeba provést na všech strojích, na kterých běží prohlížeče pro testování. Na strojích musí být nainstalovaná Java 7.</p>
<ol class="arabic simple">
<li>Zalogujeme se na stroj.</li>
<li>Ze stránek <a class="reference external" href="https://code.google.com/p/selenium/downloads/list">https://code.google.com/p/selenium/downloads/list</a> stáhneme Selenium Standalone Server (selenium-server-standalone-&lt;verze&gt;.jar).</li>
<li>Na stroj nakopírujeme soubor nodeconfig.json uložený v adresáři examples/ v balíku SW a zeditujeme ho.</li>
</ol>
<ul>
<li><p class="first"><strong>capabilities</strong> Pole objektů obsahujících informace o dostupných prohlížečích na tomto stroji</p>
<ul class="simple">
<li><strong>browserName</strong> Název prohlížeče. Standardní názvy jsou internet explorer, firefox, chrome, opera, safari. Selenium na jejich základě hledá spustitelný soubor.</li>
<li><strong>version</strong> Verze prohlížeče.</li>
<li><strong>platform</strong> Název platformy. Standardizované názvy jsou WINDOWS, LINUX, MAC</li>
<li><strong>maxInstances</strong> Maximální počet současně spuštěných instancí prohlížeče. Větší počet je lepší v případě, že testy zároveň spustí více uživatelů. Nemusí pak čekat, než doběhnou testy jiných uživatelů. U IE musí být nastaveno na 1. Je to kvůli proxy. Internet Explorer nastavuje proxy pro celý systém. Pokud by své testy spustilo více lidí na IE, navzájem by si přepisovali nastavení proxy a nemohli by pak spolehlivě testovat síťové požadavky.</li>
</ul>
</li>
<li><p class="first"><strong>configuration</strong> Konfigurace stroje</p>
<ul class="simple">
<li><strong>maxSession</strong> Maximální počet souběžně běžících testů.</li>
<li><strong>port</strong> Port, na kterém bude poslouchat Selenium Server.</li>
<li><strong>host</strong> IP tohoto stroje. Stroj na této adrese musí být viditelný pro stroj, na kterém jsme nainstalovali SW.</li>
<li><strong>register</strong> Boolean hodnota rozhodující o tom, jestli se má stroj automaticky pokoušet připojit na Selenium HUB, pokud se mu to napoprvé nepodaří.</li>
<li><strong>registerCycle</strong> Interval pokusů o připojení v Selenium HUBu v ms.</li>
<li><strong>hubPort</strong> Port, na kterém poslouchá Selenium HUB (hodnota klíče SELENIUM_SERVER_PORT z config.py)</li>
<li><strong>hubHost</strong> IP adresa Selenium HUBu (hodnota klíče IP z config.py)</li>
<li><strong>timeout</strong> Maximální doba v ms, po kterou prohlížeč čeká na další příkazy. Pokud do této doby žádný neobdží, tak se uzavře. Je to pojistka pro případ, kdy test z nějakého důvodu nedoběhne do konce a neuzavře za sebou prohlížeč. Tím by se rychle vyčerpal počet dostupných instancí prohlížeče. Pokud je timeout nastavený, musíme s ním počítat i v testech, ve kterých nastavujeme <a class="reference internal" href="psani_testu.html#waits"><em>Čekání</em></a>. Není možné nastavit delší čekání než je timeout prohlížeče.</li>
</ul>
<blockquote>
<div><p>Pro spouštění testů v Chrome je potřeba stáhnout chromedriver z <a class="reference external" href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a> a nakopírovat ho do C:WindowsSystem32,       resp. do /bin.</p>
<p>Podobné je to v případě IE. Driver je dostupný <a class="reference external" href="http://code.google.com/p/selenium/downloads/list">http://code.google.com/p/selenium/downloads/list</a> jako IEDriverServer_&lt;verze&gt;.zip. Driver stáhneme a  nakopírujeme      do stejné složky jako v případě Chrome.</p>
<p>Opera je podporována pouze do verze 12.x. Na novějších verzích založených na WebKitu není možné testy spouštět.</p>
</div></blockquote>
</li>
</ul>
<ol class="arabic" start="4">
<li><p class="first">Spustíme node příkazem</p>
<div class="highlight-python"><div class="highlight"><pre>java -jar cesta-ke-stazenemu-selenium-stanalene-serveru.jar -role node -nodeConfig cesta-k-nodeconfig.json
</pre></div>
</div>
<p>Otevře se konzole v ní by se měla peridicky zobrazovat následující chybová hláška:</p>
<div class="highlight-python"><div class="highlight"><pre>INFO - couldn&#39;t register this node : Hub is down or not responding : Connection refused
</pre></div>
</div>
<p>To je způsobené tím, že se node snaží připojit k HUBu, který ale zatím neběží. Spustí se až při prvním spuštění testů.</p>
</li>
<li><p class="first">Vrátíme se zpět na stroj, na který jsme instalovali SW (Selenium HUB). Vlezeme do adresáře examples/example_test ve staženém balíku a spustíme testy příkazem</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">runwebtests</span>
</pre></div>
</div>
<p>V konzoli by se mělo objevit zhruba toto:</p>
<div class="highlight-python"><div class="highlight"><pre>Proxy server seems not running. Trying to start on 192.168.56.1:3128...
Selenium HUB seems not running. Trying to start on 192.168.56.1:4444...

test_vyhledavani (homepage.homepage) on firefox,ANY,ANY ... ok

----------------------------------------------------------------------
Ran 1 test in 13.280s

OK
</pre></div>
</div>
<p>Pokud ano, je vše potřebné nainstalováno a správně nakonfigurováno a můžeme začít psát testy.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Na adrese Selenium HUBu (v našem případě 192.168.56.1:4444) je k dispozici konzole ukazující, které prohlížeče jsou k HUBu zaregistrovány a můžeme je tak použít k testování. Stačí vlézt na adresu <a class="reference external" href="http://192.168.56.1:444/grid/console">http://192.168.56.1:444/grid/console</a></p>
</div>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="psani_testu.html" class="btn btn-neutral float-right" title="2. Psaní testů"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Selenium Webtests"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2014, Jiri Kuchta.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>